drop table ESPECIFICACIONES ;
drop table COMENTARIO ;
drop table RECLAMO ; 
drop table PUNTAJES;
drop table ESPECIFICACIONPRODUCTO;
drop table PRODUCTO;
drop table PROVEEDOR;
drop table ORDENCOMPRA;
drop table IMAGENES;
drop table CLIENTE;
drop table USUARIO;
drop table CATEGORIAESPECIFICACIONPROD;
drop table CATEGORIA;
drop table CLIENTECOMPRAPRODUCTO;
drop table ESTADOSORDENES;

CREATE USER IF NOT EXISTS ADMIN SALT '11387b11ecc7a4a5' HASH 'dbda573a108f2972818bf802e3cd7c36f0ed85b5f4bfbd704bbb59ff3058e206' ADMIN;
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_BFAC0720_FB9E_4DCD_B5F4_7BA5D605582B START WITH 180 BELONGS_TO_TABLE;
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_498950E9_3271_4626_8606_DD1CCB9331C4 START WITH 326 BELONGS_TO_TABLE;
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_B1181781_B26F_4457_8DCD_C5738806584B START WITH 101 BELONGS_TO_TABLE;
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_71B295F6_F4F4_4975_95CA_864FD9AE74A2 START WITH 1 BELONGS_TO_TABLE;
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_A404B519_61B0_430D_A25B_FAE73321C1DA START WITH 5127 BELONGS_TO_TABLE;
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_0DDA554D_A89E_4935_ADA0_94AE72E69E42 START WITH 243 BELONGS_TO_TABLE;
CREATE CACHED TABLE PUBLIC.PROVEEDOR(
    NICKNAME VARCHAR(255) NOT NULL,
    LINKSITIO VARCHAR(255),
    NOMBRECOMPANIA VARCHAR(255)
);
ALTER TABLE PUBLIC.PROVEEDOR ADD CONSTRAINT PUBLIC.CONSTRAINT_8 PRIMARY KEY(NICKNAME);
-- 5 +/- SELECT COUNT(*) FROM PUBLIC.PROVEEDOR;
CREATE CACHED TABLE PUBLIC.PUNTAJE(
    ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_71B295F6_F4F4_4975_95CA_864FD9AE74A2) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_71B295F6_F4F4_4975_95CA_864FD9AE74A2,
    CLIENTE_ID VARCHAR(255),
    PRODUCTO_ID VARCHAR(255),
    PUNTAJE INT,
    FECHA DATETIME
);
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.PUNTAJE;
CREATE CACHED TABLE PUBLIC.CATEGORIA(
    NOMBRE VARCHAR(255) NOT NULL,
    PADRE VARCHAR(255)
);
ALTER TABLE PUBLIC.CATEGORIA ADD CONSTRAINT PUBLIC.CONSTRAINT_3 PRIMARY KEY(NOMBRE);
-- 23 +/- SELECT COUNT(*) FROM PUBLIC.CATEGORIA;
CREATE CACHED TABLE PUBLIC.CATEGORIAESPECIFICACIONPROD(
    CAT_NAME VARCHAR(255) NOT NULL,
    ESP_NROREF VARCHAR(255) NOT NULL
);
-- 32 +/- SELECT COUNT(*) FROM PUBLIC.CATEGORIAESPECIFICACIONPROD;
CREATE CACHED TABLE PUBLIC.ORDENCOMPRA(
    NRO_ORDEN BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_498950E9_3271_4626_8606_DD1CCB9331C4) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_498950E9_3271_4626_8606_DD1CCB9331C4,
    FECHA DATETIME,
    PRECIO DECIMAL
);
ALTER TABLE PUBLIC.ORDENCOMPRA ADD CONSTRAINT PUBLIC.CONSTRAINT_28 PRIMARY KEY(NRO_ORDEN);
-- 6 +/- SELECT COUNT(*) FROM PUBLIC.ORDENCOMPRA;
CREATE CACHED TABLE PUBLIC.CLIENTECOMPRAPRODUCTO(
    CLIENTE_ID VARCHAR(255) NOT NULL,
    PRODUCTO_ID BIGINT NOT NULL,
    PRECIO DOUBLE,
    ORDEN_ID BIGINT NOT NULL
);
-- 19 +/- SELECT COUNT(*) FROM PUBLIC.CLIENTECOMPRAPRODUCTO;
CREATE CACHED TABLE PUBLIC.IMAGENES(
    PATH VARCHAR(255) NOT NULL,
    PARENTID VARCHAR(255) NOT NULL
);
-- 13 +/- SELECT COUNT(*) FROM PUBLIC.IMAGENES;
CREATE CACHED TABLE PUBLIC.ESPECIFICACIONPRODUCTO(
    NROREFERENCIA VARCHAR(255) NOT NULL,
    NOMBRE VARCHAR(255),
    DESCRIPCION VARCHAR(255),
    PRECIO DOUBLE,
    PROVEEDOR_ID VARCHAR(255),
    ESPECIFICACION VARCHAR(255)
);
ALTER TABLE PUBLIC.ESPECIFICACIONPRODUCTO ADD CONSTRAINT PUBLIC.CONSTRAINT_9 PRIMARY KEY(NROREFERENCIA);
-- 20 +/- SELECT COUNT(*) FROM PUBLIC.ESPECIFICACIONPRODUCTO;
CREATE CACHED TABLE PUBLIC.ESPECIFICACIONES(
    ESPPRID VARCHAR(255) NOT NULL,
    NOMBRE VARCHAR(50) NOT NULL,
    VALOR VARCHAR(255) NOT NULL
);
ALTER TABLE PUBLIC.ESPECIFICACIONES ADD CONSTRAINT PUBLIC.CONSTRAINT_6 PRIMARY KEY(ESPPRID, NOMBRE, VALOR);
-- 49 +/- SELECT COUNT(*) FROM PUBLIC.ESPECIFICACIONES;
CREATE CACHED TABLE PUBLIC.USUARIO(
    NICKNAME VARCHAR(255) NOT NULL,
    NOMBRE VARCHAR(255),
    APELLIDO VARCHAR(255),
    EMAIL VARCHAR(255),
    FECHANACIMIENTO DATE,
    IMAGEN VARCHAR(255),
    DTYPE VARCHAR(31),
    PASSWORD VARCHAR(128)
);
ALTER TABLE PUBLIC.USUARIO ADD CONSTRAINT PUBLIC.CONSTRAINT_2 PRIMARY KEY(NICKNAME);
-- 9 +/- SELECT COUNT(*) FROM PUBLIC.USUARIO;
CREATE CACHED TABLE PUBLIC.PRODUCTO(
    ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_A404B519_61B0_430D_A25B_FAE73321C1DA) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_A404B519_61B0_430D_A25B_FAE73321C1DA SELECTIVITY 100,
    ID_ESPECIFICO VARCHAR(255) SELECTIVITY 1,
    ESPECIFICACION VARCHAR(255) NOT NULL SELECTIVITY 11,
    ENORDEN BOOLEAN SELECTIVITY 1
);
-- 404 +/- SELECT COUNT(*) FROM PUBLIC.PRODUCTO;
CREATE CACHED TABLE PUBLIC.ESTADOSORDENES(
    ID INT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_0DDA554D_A89E_4935_ADA0_94AE72E69E42) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_0DDA554D_A89E_4935_ADA0_94AE72E69E42,
    NRO_ORDEN BIGINT,
    ESTADO INT,
    FECHA DATETIME
);
ALTER TABLE PUBLIC.ESTADOSORDENES ADD CONSTRAINT PUBLIC.CONSTRAINT_25 PRIMARY KEY(ID);
-- 15 +/- SELECT COUNT(*) FROM PUBLIC.ESTADOSORDENES;
CREATE CACHED TABLE PUBLIC.COMENTARIO(
    ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_BFAC0720_FB9E_4DCD_B5F4_7BA5D605582B) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_BFAC0720_FB9E_4DCD_B5F4_7BA5D605582B,
    PADRE BIGINT,
    CLIENTE_ID VARCHAR(255),
    PRODUCTO_ID VARCHAR(255),
    COMENTARIO VARCHAR(255),
    FECHA DATETIME
);
-- 26 +/- SELECT COUNT(*) FROM PUBLIC.COMENTARIO;
CREATE CACHED TABLE PUBLIC.RECLAMO(
    ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_B1181781_B26F_4457_8DCD_C5738806584B) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_B1181781_B26F_4457_8DCD_C5738806584B,
    CLIENTE_ID VARCHAR(255),
    PRODUCTO_ID VARCHAR(255),
    RECLAMO VARCHAR(255),
    FECHA DATETIME
);
ALTER TABLE PUBLIC.RECLAMO ADD CONSTRAINT PUBLIC.CONSTRAINT_B PRIMARY KEY(ID);
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.RECLAMO;
CREATE CACHED TABLE PUBLIC.CLIENTE(
    NICKNAME VARCHAR(255) NOT NULL,
    RECIBENOTIFICACION BOOLEAN
);
ALTER TABLE PUBLIC.CLIENTE ADD CONSTRAINT PUBLIC.CONSTRAINT_5 PRIMARY KEY(NICKNAME);
-- 4 +/- SELECT COUNT(*) FROM PUBLIC.CLIENTE;
ALTER TABLE PUBLIC.CATEGORIA ADD CONSTRAINT PUBLIC.SET UNIQUE(NOMBRE);
ALTER TABLE PUBLIC.COMENTARIO ADD CONSTRAINT PUBLIC.CONSTRAINT_BA FOREIGN KEY(PADRE) REFERENCES PUBLIC.COMENTARIO(ID) NOCHECK;
ALTER TABLE PUBLIC.RECLAMO ADD CONSTRAINT PUBLIC.CONSTRAINT_BAF72 FOREIGN KEY(PRODUCTO_ID) REFERENCES PUBLIC.ESPECIFICACIONPRODUCTO(NROREFERENCIA) NOCHECK;
ALTER TABLE PUBLIC.ESTADOSORDENES ADD CONSTRAINT PUBLIC.CONSTRAINT_27 FOREIGN KEY(NRO_ORDEN) REFERENCES PUBLIC.ORDENCOMPRA(NRO_ORDEN) NOCHECK;
ALTER TABLE PUBLIC.RECLAMO ADD CONSTRAINT PUBLIC.CONSTRAINT_BAF77 FOREIGN KEY(CLIENTE_ID) REFERENCES PUBLIC.CLIENTE(NICKNAME) NOCHECK;
ALTER TABLE PUBLIC.CATEGORIAESPECIFICACIONPROD ADD CONSTRAINT PUBLIC.CONSTRAINT_1 FOREIGN KEY(CAT_NAME) REFERENCES PUBLIC.CATEGORIA(NOMBRE) NOCHECK;
ALTER TABLE PUBLIC.ESPECIFICACIONES ADD CONSTRAINT PUBLIC.CONSTRAINT_6E FOREIGN KEY(ESPPRID) REFERENCES PUBLIC.ESPECIFICACIONPRODUCTO(NROREFERENCIA) NOCHECK;
ALTER TABLE PUBLIC.CLIENTECOMPRAPRODUCTO ADD CONSTRAINT PUBLIC.CONSTRAINT_E7 FOREIGN KEY(PRODUCTO_ID) REFERENCES PUBLIC.PRODUCTO(ID) NOCHECK;
ALTER TABLE PUBLIC.CATEGORIAESPECIFICACIONPROD ADD CONSTRAINT PUBLIC.CONSTRAINT_17 FOREIGN KEY(ESP_NROREF) REFERENCES PUBLIC.ESPECIFICACIONPRODUCTO(NROREFERENCIA) NOCHECK;
ALTER TABLE PUBLIC.CATEGORIA ADD CONSTRAINT PUBLIC.CONSTRAINT_36 FOREIGN KEY(PADRE) REFERENCES PUBLIC.CATEGORIA(NOMBRE) NOCHECK;
ALTER TABLE PUBLIC.CLIENTECOMPRAPRODUCTO ADD CONSTRAINT PUBLIC.CONSTRAINT_E7D FOREIGN KEY(ORDEN_ID) REFERENCES PUBLIC.ORDENCOMPRA(NRO_ORDEN) NOCHECK;
ALTER TABLE PUBLIC.PROVEEDOR ADD CONSTRAINT PUBLIC.NICKNAME FOREIGN KEY(NICKNAME) REFERENCES PUBLIC.USUARIO(NICKNAME) NOCHECK;
ALTER TABLE PUBLIC.COMENTARIO ADD CONSTRAINT PUBLIC.CONSTRAINT_BAF7 FOREIGN KEY(PRODUCTO_ID) REFERENCES PUBLIC.ESPECIFICACIONPRODUCTO(NROREFERENCIA) NOCHECK;
ALTER TABLE PUBLIC.CLIENTECOMPRAPRODUCTO ADD CONSTRAINT PUBLIC.CONSTRAINT_E FOREIGN KEY(CLIENTE_ID) REFERENCES PUBLIC.CLIENTE(NICKNAME) NOCHECK;
ALTER TABLE PUBLIC.CLIENTE ADD CONSTRAINT PUBLIC.CONSTRAINT_5E FOREIGN KEY(NICKNAME) REFERENCES PUBLIC.USUARIO(NICKNAME) NOCHECK;
ALTER TABLE PUBLIC.COMENTARIO ADD CONSTRAINT PUBLIC.CONSTRAINT_BAF FOREIGN KEY(CLIENTE_ID) REFERENCES PUBLIC.CLIENTE(NICKNAME) NOCHECK;
ALTER TABLE PUBLIC.PRODUCTO ADD CONSTRAINT PUBLIC.CONSTRAINT_F FOREIGN KEY(ESPECIFICACION) REFERENCES PUBLIC.ESPECIFICACIONPRODUCTO(NROREFERENCIA) NOCHECK;